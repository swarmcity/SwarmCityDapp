<link rel="import" href="../bower_components/polymer/polymer-element.html">

<dom-module id="sc-animations">
    <template>
        <style>
            :host {
                display: block;
                padding: 0;
                margin: 0;
            }
        </style>
    </template>
    </template>
    <script>
        class MyAnimations extends new ReduxMixin(Polymer.Element) {
            static get is() {return 'sc-animations';}
            static get properties() {
                return {
                    /**
                     * defaultAnimation is the default animation object
                     * @type {Object}
                     */
                    defaultAnimation: {
                        Type: Object,
                        value: {
                            entryAnimation: {
                                descriptionArray: [
                                    {'opacity': 0},
                                    {'opacity': 1},
                                ],
                                descriptionObject: {
                                    fill: 'forwards',
                                    duration: 0,
                                    iterations: 1,
                                    iterationStart: 0,
                                    easing: 'cubic-bezier(0.42,0,0.58,1)',
                                    delay: 300,
                                    endDelay: 300,
                                },
                            },
                            exitAnimation: {
                                descriptionArray: [
                                    {'opacity': 1},
                                    {'opacity': 0},
                                ],
                                descriptionObject: {
                                    fill: 'forwards',
                                    duration: 0,
                                    iterations: 1,
                                    iterationStart: 0,
                                    easing: 'cubic-bezier(0.42,0,0.58,1)',
                                    delay: 300,
                                    endDelay: 0,
                                },
                            },
                        },
                    },
                    /**
                     * customAnimations are the custom animation objects
                     * @type {Object}
                     */
                    customAnimations: {
                        Type: Object,
                        value: [
                            // TRANSITION A: SLIDE-MOTION
                            // FROM --> TO IN A RIGHT TO LEFT MOTION
                            {
                                routes: [{
                                    from: 'new-here',
                                    to: 'choose-avatar-and-username',
                                }, {
                                    from: 'choose-avatar-and-username',
                                    to: 'password-warning',
                                }, {
                                    from: 'password-warning',
                                    to: 'choose-password',
                                }, {
                                    from: 'choose-password',
                                    to: 'choose-avatar',
                                }, {
                                    from: 'choose-avatar',
                                    to: 'choose-password',
                                }, {
                                    from: 'choose-password',
                                    to: 'account-complete',
                                }, {
                                    from: 'account-complete',
                                    to: 'make-backup',
                                }, {
                                    from: 'make-backup',
                                    to: 'account-complete',
                                }, {
                                    from: 'my-wallet',
                                    to: 'confirm-sending',
                                }, {
                                    from: 'confirm-sending',
                                    to: 'my-wallet',
                                }, {
                                    from: 'confirm-sending',
                                    to: 'transaction-processing',
                                }, {
                                    from: 'transaction-processing',
                                    to: 'confirm-sending',
                                }, {
                                    from: 'transaction-processing',
                                    to: 'my-wallet',
                                },
                                // {
                                //     from: 'new-request',
                                //     to: 'confirm-new-request',
                                // },
                                ],
                                entryAnimation: {
                                    descriptionArray: [
                                        {'transform': 'translateX(100%)'},
                                        {'transform': 'translateX(0)'},
                                    ],
                                    descriptionObject: {
                                        fill: 'forwards',
                                        duration: 150,
                                        iterations: 1,
                                        iterationStart: 0,
                                        easing: 'cubic-bezier(0.42,0,0.58,1)',
                                        delay: 150,
                                        endDelay: 0,
                                    },
                                },
                                exitAnimation: {
                                    descriptionArray: [
                                        {'transform': 'translateX(0)'},
                                        {'transform': 'translateX(-100%)'},
                                    ],
                                    descriptionObject: {
                                        fill: 'forwards',
                                        duration: 150,
                                        iterations: 1,
                                        iterationStart: 0,
                                        easing: 'cubic-bezier(0.42,0,0.58,1)',
                                        delay: 0,
                                        endDelay: 0,
                                    },
                                },
                            },
                            // TRANSITION A-2: SLIDE-MOTION
                            // FROM --> TO IN A LEFT TO RIGHT MOTION
                            {
                                routes: [{
                                    from: 'my-wallet',
                                    to: 'transaction-processing',
                                }, {
                                    from: 'password-warning',
                                    to: 'choose-avatar-and-username',
                                }, {
                                    from: 'choose-avatar-and-username',
                                    to: 'new-here',
                                }, {
                                    from: 'choose-password',
                                    to: 'password-warning',
                                }, {
                                    from: 'account-complete',
                                    to: 'choose-password',
                                // }, {
                                //     from: 'confirm-new-request',
                                //     to: 'new-request',
                                },
                                ],
                                entryAnimation: {
                                    descriptionArray: [
                                        {'transform': 'translateX(-100%)'},
                                        {'transform': 'translateX(0)'},
                                    ],
                                    descriptionObject: {
                                        fill: 'forwards',
                                        duration: 150,
                                        iterations: 1,
                                        iterationStart: 0,
                                        easing: 'cubic-bezier(0.42,0,0.58,1)',
                                        delay: 150,
                                        endDelay: 0,
                                    },
                                },
                                exitAnimation: {
                                    descriptionArray: [
                                        {'transform': 'translateX(0)'},
                                        {'transform': 'translateX(100%)'},
                                    ],
                                    descriptionObject: {
                                        fill: 'forwards',
                                        duration: 150,
                                        iterations: 1,
                                        iterationStart: 0,
                                        easing: 'cubic-bezier(0.42,0,0.58,1)',
                                        delay: 0,
                                        endDelay: 0,
                                    },
                                },
                            },
                            // TRANSITION B: STANDARD TO STOP-SIGNUP
                            {
                                routes: [{
                                    from: 'make-backup',
                                    to: 'stop-signup',
                                }, {
                                    from: 'stop-signup',
                                    to: 'make-backup',
                                }, {
                                    from: 'choose-avatar-and-username',
                                    to: 'hashtag',
                                }, {
                                    from: 'password-warning',
                                    to: 'hashtag',
                                }, {
                                    from: 'choose-password',
                                    to: 'hashtag',
                                }, {
                                    from: 'account-complete',
                                    to: 'stop-signup',
                                }, {
                                    from: 'make-backup',
                                    to: 'stop-signup',
                                }, {
                                    from: 'private-key',
                                    to: 'stop-signup',
                                }, {
                                    from: 'json-file',
                                    to: 'stop-signup',
                                }, {
                                    from: 'hashtag',
                                    to: 'stop-signup',
                                }, {
                                    from: 'hashtag-list',
                                    to: 'stop-signup',
                                }, {
                                    from: 'new-request',
                                    to: 'confirm-new-request',
                                }, {
                                    from: 'confirm-new-request',
                                    to: 'new-request',
                                }],
                                entryAnimation: {
                                    descriptionArray: [
                                        {'opacity': '0'},
                                        {'opacity': '1'},
                                    ],
                                    descriptionObject: {
                                        fill: 'forwards',
                                        duration: 150,
                                        iterations: 1,
                                        iterationStart: 0,
                                        easing: 'cubic-bezier(0.42,0,0.58,1)',
                                        delay: 150,
                                        endDelay: 0,
                                    },
                                },
                                exitAnimation: {
                                    descriptionArray: [
                                        {'opacity': '1'},
                                        {'opacity': '0'},
                                    ],
                                    descriptionObject: {
                                        fill: 'forwards',
                                        duration: 200,
                                        iterations: 1,
                                        iterationStart: 0,
                                        easing: 'cubic-bezier(0.42,0,0.58,1)',
                                        delay: 0,
                                        endDelay: 0,
                                    },
                                },
                            },
                            // TRANSITION C: STANDARD FROM STOP-SIGNUP, slide down
                            {
                                routes: [{
                                    from: 'new-here',
                                    to: 'hashtag',
                                }, {
                                    from: 'create-account',
                                    to: 'hashtag',
                                }, {
                                    from: 'location',
                                    to: 'hashtag',
                                }, {
                                    from: 'stop-signup',
                                    to: 'account-complete',
                                }, {
                                    from: 'stop-signup',
                                    to: 'make-backup',
                                }, {
                                    from: 'stop-signup',
                                    to: 'private-key',
                                }, {
                                    from: 'stop-signup',
                                    to: 'json-file',
                                }, {
                                    from: 'stop-signup',
                                    to: 'hashtag',
                                }, {
                                    from: 'stop-signup',
                                    to: 'hashtag-list',
                                }],
                                entryAnimation: {
                                    descriptionArray: [
                                        {'opacity': '0'},
                                        {'opacity': '1'},
                                    ],
                                    descriptionObject: {
                                        fill: 'forwards',
                                        duration: 150,
                                        iterations: 1,
                                        iterationStart: 0,
                                        easing: 'cubic-bezier(0.42,0,0.58,1)',
                                        delay: 150,
                                        endDelay: 0,
                                    },
                                },
                                exitAnimation: {
                                    descriptionArray: [
                                        {'transform': 'translateY(0)'},
                                        {'transform': 'translateY(100%)'},
                                    ],
                                    descriptionObject: {
                                        fill: 'backwards',
                                        duration: 200,
                                        iterations: 1,
                                        iterationStart: 0,
                                        easing: 'cubic-bezier(0.42,0,0.58,1)',
                                        delay: 0,
                                        endDelay: 0,
                                    },
                                },
                            },
                            // TRANSITION D: PAGE-WELCOME
                            {
                                routes: [{
                                    from: 'welcome',
                                    to: 'language',
                                }, {
                                    from: 'language',
                                    to: 'welcome',
                                }],
                                entryAnimation: {
                                    descriptionArray: [
                                        {'transform': 'translateY(-100%)'},
                                        {'transform': 'translateY(0)'},
                                    ],
                                    descriptionObject: {
                                        fill: 'forwards',
                                        duration: 200,
                                        iterations: 1,
                                        iterationStart: 0,
                                        easing: 'cubic-bezier(0.42,0,0.58,1)',
                                        delay: 200,
                                        endDelay: 0,
                                    },
                                },
                                exitAnimation: {
                                    descriptionArray: [
                                        {'transform': 'translateY(0)'},
                                        {'transform': 'translateY(100%)'},
                                    ],
                                    descriptionObject: {
                                        fill: 'forwards',
                                        duration: 200,
                                        iterations: 1,
                                        iterationStart: 0,
                                        easing: 'cubic-bezier(0.42,0,0.58,1)',
                                        delay: 0,
                                        endDelay: 0,
                                    },
                                },

                            },
                            // TRANSITION E: STANDARD FROM HASHTAG
                            {
                                routes: [{
                                    from: 'hashtag',
                                    to: 'new-here',
                                }, {
                                    from: 'hashtag',
                                    to: 'create-account',
                                }, {
                                    from: 'hashtag',
                                    to: 'location',
                                }],
                                entryAnimation: {
                                    descriptionArray: [
                                        {'opacity': '0'},
                                        {'opacity': '1'},
                                    ],
                                    descriptionObject: {
                                        fill: 'forwards',
                                        duration: 200,
                                        iterations: 1,
                                        iterationStart: 0,
                                        easing: 'cubic-bezier(0.42,0,0.58,1)',
                                        delay: 200,
                                        endDelay: 0,
                                    },
                                },
                                exitAnimation: {
                                    descriptionArray: [
                                        {'opacity': '1'},
                                        {'opacity': '0'},
                                    ],
                                    descriptionObject: {
                                        fill: 'forwards',
                                        duration: 200,
                                        iterations: 1,
                                        iterationStart: 0,
                                        easing: 'cubic-bezier(0.42,0,0.58,1)',
                                        delay: 0,
                                        endDelay: 0,
                                    },
                                },
                            },
                            // TRANSITION F: backwards
                            {
                                routes: [{
                                    from: 'my-profile',
                                    to: 'warning-delete',
                                }],
                                entryAnimation: {
                                    descriptionArray: [
                                        {'opacity': '0'},
                                        {'opacity': '1'},
                                    ],
                                    descriptionObject: {
                                        fill: 'forwards',
                                        duration: 200,
                                        iterations: 1,
                                        iterationStart: 0,
                                        easing: 'cubic-bezier(0.42,0,0.58,1)',
                                        delay: 200,
                                        endDelay: 0,
                                    },
                                },
                                exitAnimation: {
                                    descriptionArray: [
                                        {'opacity': '1'},
                                        {'opacity': '0'},
                                    ],
                                    descriptionObject: {
                                        fill: 'backwards',
                                        duration: 200,
                                        iterations: 1,
                                        iterationStart: 0,
                                        easing: 'cubic-bezier(0.42,0,0.58,1)',
                                        delay: 0,
                                        endDelay: 0,
                                    },
                                },
                            },
                            // TRANSITION G: backwards 300
                            {
                                routes: [{
                                    from: 'download-success',
                                    to: 'hashtag',
                                }, {
                                    from: 'print-success',
                                    to: 'hashtag',
                                }, {
                                    from: 'my-keys',
                                    to: 'hashtag',
                                }],
                                entryAnimation: {
                                    descriptionArray: [
                                        {'opacity': '0'},
                                        {'opacity': '1'},
                                    ],
                                    descriptionObject: {
                                        fill: 'forwards',
                                        duration: 300,
                                        iterations: 1,
                                        iterationStart: 0,
                                        easing: 'cubic-bezier(0.42,0,0.58,1)',
                                        delay: 300,
                                        endDelay: 0,
                                    },
                                },
                                exitAnimation: {
                                    descriptionArray: [
                                        {'opacity': '1'},
                                        {'opacity': '0'},
                                    ],
                                    descriptionObject: {
                                        fill: 'backwards',
                                        duration: 300,
                                        iterations: 1,
                                        iterationStart: 0,
                                        easing: 'cubic-bezier(0.42,0,0.58,1)',
                                        delay: 0,
                                        endDelay: 0,
                                    },
                                },

                            },
                            // TRANSITION H: my-profile slide-down
                            {
                                routes: [{
                                    from: 'warning-delete',
                                    to: 'my-profile',
                                }],

                                entryAnimation: {
                                    descriptionArray: [
                                        {'opacity': '0'},
                                        {'opacity': '1'},
                                    ],
                                    descriptionObject: {
                                        fill: 'forwards',
                                        duration: 150,
                                        iterations: 1,
                                        iterationStart: 0,
                                        easing: 'cubic-bezier(0.42,0,0.58,1)',
                                        delay: 150,
                                        endDelay: 0,
                                    },
                                },
                                exitAnimation: {
                                    descriptionArray: [
                                        {'transform': 'translateY(0)'},
                                        {'transform': 'translateY(100%)'},
                                    ],
                                    descriptionObject: {
                                        fill: 'backwards',
                                        duration: 200,
                                        iterations: 1,
                                        iterationStart: 0,
                                        easing: 'cubic-bezier(0.42,0,0.58,1)',
                                        delay: 0,
                                        endDelay: 0,
                                    },
                                },

                            },
                            // TRANSITION I: 700ms duration
                            {
                                routes: [{
                                    from: 'warning-delete',
                                    to: 'welcome',
                                }],
                                entryAnimation: {
                                    descriptionArray: [
                                        {'opacity': '0'},
                                        {'opacity': '1'},
                                    ],
                                    descriptionObject: {
                                        fill: 'forwards',
                                        duration: 300,
                                        iterations: 1,
                                        iterationStart: 0,
                                        easing: 'cubic-bezier(0.42,0,0.58,1)',
                                        delay: 300,
                                        endDelay: 0,
                                    },
                                },
                                exitAnimation: {
                                    descriptionArray: [
                                        {'opacity': '1'},
                                        {'opacity': '0'},
                                    ],
                                    descriptionObject: {
                                        fill: 'backwards',
                                        duration: 700,
                                        iterations: 1,
                                        iterationStart: 0,
                                        easing: 'cubic-bezier(0.42,0,0.58,1)',
                                        delay: 0,
                                        endDelay: 0,
                                    },
                                },
                            },
                        ],
                    },
                    /**
                     * animationsArray is an Array of all animation objects
                     * @type {Array}
                     */
                    animationsArray: {
                        Type: Array,
                        value: [],
                        notify: true,
                        reflectToAttribute: true,
                    },
                };
            }

            connectedCallback() {
                super.connectedCallback();
                this._loadAnimationsArray();
            }
            /**
             * Iterate through the custom animations and populate the animationsArray
             */
            _loadAnimationsArray() {
                this.animationsArray.push(this.defaultAnimation);
                for (let i = 0; i < this.customAnimations.length; i++) {
                    for (let j = 0; j < this.customAnimations[i].routes.length; j++) {
                        let from = this.customAnimations[i].routes[j].from;
                        let to = this.customAnimations[i].routes[j].to;
                        let entryAnimation = this.customAnimations[i].entryAnimation;
                        let exitAnimation = this.customAnimations[i].exitAnimation;
                        this.animationsArray.push({
                            from,
                            to,
                            entryAnimation,
                            exitAnimation,
                        });
                    }
                }
            }
        }
        window.customElements.define(MyAnimations.is, MyAnimations);
    </script>
</dom-module>