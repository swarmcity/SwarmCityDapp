<html><head></head><body><div hidden="" by-polymer-bundler=""><script>Polymer.IronCheckedElementBehaviorImpl={properties:{checked:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0,observer:"_checkedChanged"},toggles:{type:Boolean,value:!0,reflectToAttribute:!0},value:{type:String,value:"on",observer:"_valueChanged"}},observers:["_requiredChanged(required)"],created:function(){this._hasIronCheckedElementBehavior=!0},_getValidity:function(){return this.disabled||!this.required||this.checked},_requiredChanged:function(){if(this.required){this.setAttribute("aria-required","true")}else{this.removeAttribute("aria-required")}},_checkedChanged:function(){this.active=this.checked;this.fire("iron-change")},_valueChanged:function(){if(this.value===void 0||null===this.value){this.value="on"}}};Polymer.IronCheckedElementBehavior=[Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior,Polymer.IronCheckedElementBehaviorImpl];</script><script>Polymer.PaperCheckedElementBehaviorImpl={_checkedChanged:function(){Polymer.IronCheckedElementBehaviorImpl._checkedChanged.call(this);if(this.hasRipple()){if(this.checked){this._ripple.setAttribute("checked","")}else{this._ripple.removeAttribute("checked")}}},_buttonStateChanged:function(){Polymer.PaperRippleBehavior._buttonStateChanged.call(this);if(this.disabled){return}if(this.isAttached){this.checked=this.active}}};Polymer.PaperCheckedElementBehavior=[Polymer.PaperInkyFocusBehavior,Polymer.IronCheckedElementBehavior,Polymer.PaperCheckedElementBehaviorImpl];</script><dom-module id="paper-checkbox" assetpath="../../bower_components/paper-checkbox/"><template strip-whitespace=""><style>:host{display:inline-block;white-space:nowrap;cursor:pointer;--calculated-paper-checkbox-size:var(--paper-checkbox-size, 18px);--calculated-paper-checkbox-ink-size:var(--paper-checkbox-ink-size, -1px);@apply --paper-font-common-base;line-height:0;-webkit-tap-highlight-color:transparent;}:host([hidden]){display:none !important;}:host(:focus){outline:none;}.hidden{display:none;}#checkboxContainer{display:inline-block;position:relative;width:var(--calculated-paper-checkbox-size);height:var(--calculated-paper-checkbox-size);min-width:var(--calculated-paper-checkbox-size);margin:var(--paper-checkbox-margin, initial);vertical-align:var(--paper-checkbox-vertical-align, middle);background-color:var(--paper-checkbox-unchecked-background-color, transparent);}#ink{position:absolute;top:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);left:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);width:var(--calculated-paper-checkbox-ink-size);height:var(--calculated-paper-checkbox-ink-size);color:var(--paper-checkbox-unchecked-ink-color, var(--primary-text-color));opacity:0.6;pointer-events:none;}:host-context([dir="rtl"]) #ink{right:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);left:auto;}#ink[checked]{color:var(--paper-checkbox-checked-ink-color, var(--primary-color));}#checkbox{position:relative;box-sizing:border-box;height:100%;border:solid 2px;border-color:var(--paper-checkbox-unchecked-color, var(--primary-text-color));border-radius:2px;pointer-events:none;-webkit-transition:background-color 140ms, border-color 140ms;transition:background-color 140ms, border-color 140ms;}#checkbox.checked #checkmark{-webkit-animation:checkmark-expand 140ms ease-out forwards;animation:checkmark-expand 140ms ease-out forwards;}@-webkit-keyframes checkmark-expand{0%{-webkit-transform:scale(0, 0) rotate(45deg);}100%{-webkit-transform:scale(1, 1) rotate(45deg);}}@keyframes checkmark-expand{0%{transform:scale(0, 0) rotate(45deg);}100%{transform:scale(1, 1) rotate(45deg);}}#checkbox.checked{background-color:var(--paper-checkbox-checked-color, var(--primary-color));border-color:var(--paper-checkbox-checked-color, var(--primary-color));}#checkmark{position:absolute;width:36%;height:70%;border-style:solid;border-top:none;border-left:none;border-right-width:calc(2/15 * var(--calculated-paper-checkbox-size));border-bottom-width:calc(2/15 * var(--calculated-paper-checkbox-size));border-color:var(--paper-checkbox-checkmark-color, white);-webkit-transform-origin:97% 86%;transform-origin:97% 86%;box-sizing:content-box;}:host-context([dir="rtl"]) #checkmark{-webkit-transform-origin:50% 14%;transform-origin:50% 14%;}#checkboxLabel{position:relative;display:inline-block;vertical-align:middle;padding-left:var(--paper-checkbox-label-spacing, 8px);white-space:normal;line-height:normal;color:var(--paper-checkbox-label-color, var(--primary-text-color));@apply --paper-checkbox-label;}:host([checked]) #checkboxLabel{color:var(--paper-checkbox-label-checked-color, var(--paper-checkbox-label-color, var(--primary-text-color)));@apply --paper-checkbox-label-checked;}:host-context([dir="rtl"]) #checkboxLabel{padding-right:var(--paper-checkbox-label-spacing, 8px);padding-left:0;}#checkboxLabel[hidden]{display:none;}:host([disabled]) #checkbox{opacity:0.5;border-color:var(--paper-checkbox-unchecked-color, var(--primary-text-color));}:host([disabled][checked]) #checkbox{background-color:var(--paper-checkbox-unchecked-color, var(--primary-text-color));opacity:0.5;}:host([disabled]) #checkboxLabel{opacity:0.65;}#checkbox.invalid:not(.checked){border-color:var(--paper-checkbox-error-color, var(--error-color));}</style><div id="checkboxContainer"><div id="checkbox" class$="[[_computeCheckboxClass(checked, invalid)]]"><div id="checkmark" class$="[[_computeCheckmarkClass(checked)]]"></div></div></div><div id="checkboxLabel"><slot></slot></div></template><script>Polymer({is:"paper-checkbox",behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:"checkbox","aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:"aria-checked"}},attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){var inkSize=this.getComputedStyleValue("--calculated-paper-checkbox-ink-size").trim();if("-1px"===inkSize){var checkboxSizeText=this.getComputedStyleValue("--calculated-paper-checkbox-size").trim(),units=checkboxSizeText.match(/[A-Za-z]+$/)[0]||"px",checkboxSize=parseFloat(checkboxSizeText),defaultInkSize=8/3*checkboxSize;if("px"===units){defaultInkSize=Math.floor(defaultInkSize);if(defaultInkSize%2!==checkboxSize%2){defaultInkSize++}}this.updateStyles({"--paper-checkbox-ink-size":defaultInkSize+units})}})},_computeCheckboxClass:function(checked,invalid){var className="";if(checked){className+="checked "}if(invalid){className+="invalid"}return className},_computeCheckmarkClass:function(checked){return checked?"":"hidden"},_createRipple:function(){this._rippleContainer=this.$.checkboxContainer;return Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)}});</script></dom-module><dom-module id="display-qr-code" assetpath="../displays/"><template><style include="shared-styles">:host{display:block;}</style><data-wallet id="wallet"></data-wallet><img src="{{qrCode}}"></template><script>class MyDisplayQrCode extends(new ReduxMixin(Polymer.mixinBehaviors([Polymer.AppLocalizeBehavior],Polymer.Element))){static get is(){return"display-qr-code"}static get properties(){return{data:{type:String,observer:"_makeQrCode"},qrCode:{type:String,notify:!0,reflectToAtribute:!0}}}_makeQrCode(){this.$.wallet.makeQRCode(this.data).then(qrCode=>{this.qrCode=qrCode})}}window.customElements.define(MyDisplayQrCode.is,MyDisplayQrCode);</script></dom-module></div><dom-module id="page-my-keys"><template><style include="shared-styles">:host{display:block;background-image:var(--sc-bg);}.container{@apply --layout-vertical;@apply --layout-start-justified;@apply --layout-center;width:100%;min-height:100%;}.close{@apply --xmark-grey4-small;@apply --close;z-index:1;}.key-container{@apply --layout-vertical;@apply --layout-start-justified;@apply --layout-center;width:100%;box-sizing:border-box;padding:100px 10vw 0 10vw;}.container[wide-layout] .key-container{@apply --layout-vertical;@apply --layout-start-justified;@apply --layout-start;}.greytext{@apply --small-light;color:var(--sc-grey3);}.key{@apply --body-detail;font-size:24px;letter-spacing:0;line-height:28px;color:var(--sc-grey4);text-align:center;word-break:break-all;margin:2px 0 0 0;}.container[wide-layout] .key{text-align:left;}.bluetext{@apply --small-bold;cursor:pointer;color:var(--sc-blue);border-bottom:2px dotted var(--sc-blue);margin:20px 10px 0px 0px;}.greylink{@apply --small-bold;cursor:pointer;color:var(--sc-grey3b);border-bottom:2px dotted var(--sc-grey3b);margin:15px 10px 0px 0px;}.links{@apply --layout-horizontal;@apply --layout-start-justified;@apply --layout-start;}.qrcode{margin:4vh 0 0 0;width:148px;height:148px;min-width:148px;min-height:148px;}.qrcodeprivate{margin:4vh 0 0 0;width:180px;height:180px;min-width:180px;min-height:180px;}.showbtn{@apply --layout-vertical;@apply --layout-center-center;@apply --text-button-big;box-sizing:border-box;width:100%;margin:0 0 0 0;max-width:320px;}.showbtn:active{@apply --button-active;}.privkey-container{@apply --layout-vertical;@apply --layout-start-justified;@apply --layout-center;width:100%;box-sizing:border-box;padding:0 10vw 40px 10vw;background-image:var(--sc-bg);}.container[wide-layout] .privkey-container{@apply --layout-vertical;@apply --layout-start-justified;@apply --layout-start;}.divider{width:100vw;height:1px;border-top:1px dotted var(--sc-grey2);margin:60px 0px;}.blur{@apply --unlock-blur;}paper-checkbox{@apply --layout-horizontal;@apply --layout-start-justified;@apply --layout-start;@apply --sc-paper-checkbox;margin-top:30px;}.blueandcopied{@apply --layout-vertical;@apply --layout-start-justified;@apply --layout-start;}.copied{@apply --small-bold;color:var(--sc-blue);height:0px;margin-bottom:-5px;visibility:hidden;background-image:var(--sc-bg);}.copiedpriv{@apply --small-bold;color:var(--sc-blue);height:0px;margin-bottom:-5px;visibility:hidden;background-image:var(--sc-bg);}.showcopied{visibility:visible;}.button{@apply --layout-horizontal;@apply --layout-center-justified;@apply --text-button-big-fullwhite;white-space:nowrap;width:100%;max-width:320px;margin-top:30px;}.qrcodeprivate{margin:4vh 0 0 0;width:180px;height:180px;min-width:180px;min-height:180px;}.divider{width:100vw;background-color:#9B9B9B;opacity:0.2;height:1px;}.warning{@apply --body-default;color:var(--sc-grey4);text-align:center;margin:1vh 0 3vh 0;}.container[wide-layout] .warning{text-align:left;}.blur{@apply --unlock-blur;}.key{word-break:break-all;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;}.button{@apply --layout-horizontal;@apply --layout-center-justified;@apply --text-button-big-fullwhite;white-space:nowrap;width:100%;max-width:320px;margin-top:30px;}paper-checkbox{@apply --layout-horizontal;@apply --layout-start-justified;@apply --layout-start;@apply --sc-paper-checkbox;margin-top:30px;}@media only screen and (-webkit-min-device-pixel-ratio: 1.5),
            only screen and (min--moz-device-pixel-ratio: 1.5),
            only screen and (min-resolution: 240dpi){.close{@apply --retina;}}</style><app-location route="{{route}}"></app-location><iron-media-query query="(min-width: 600px)" query-matches="{{wide}}"></iron-media-query><div id="container" class="container" wide-layout$="{{wide}}"><div class="close" on-click="_close"></div><div class="key-container" id="keycontainer"><div class="greytext">{{localize('Your public key')}}</div><div class="key">{{publicKey}}</div><div class="links"><div class="blueandcopied"><div class="copied" id="copied">{{localize('copied')}}</div><div class="bluetext" on-click="_copyPublicKey">{{localize('copy public key')}}</div></div><div class="greylink" on-click="_showPublicQR">{{localize('show QR code')}}</div></div><template is="dom-if" if="{{showPublicQR}}"><div class="qrcode"><display-qr-code data="{{publicKey}}"></display-qr-code></div></template></div><div id="divider" class="divider"></div><div class="privkey-container" id="privkeycontainer"><dom-if if="{{!showPrivateKey}}"><template><div on-click="_toggleUnlock" class="showbtn">{{localize('show private key')}}</div></template></dom-if><dom-if if="{{showPrivateKey}}"><template><div class="greytext">{{localize('Your private key')}}</div><div class="key">{{privateKey}}</div><div class="links"><div class="blueandcopied"><div class="copiedpriv" id="copiedpriv">{{localize('copied')}}</div><div class="bluetext" on-click="_copyPrivateKey">{{localize('copy private key')}}</div></div><div class="greylink" on-click="_showPrivateQR">{{localize('show QR code')}}</div></div><template is="dom-if" if="{{showPrivateQR}}"><div class="qrcodeprivate"><img src="{{qrCodePrivateKey}}"></div></template><template is="dom-if" if="{{_showCheckbox()}}" restamp="true"><paper-checkbox id="checkbox" noink="" on-active-changed="_enterbuttonVisible">{{localize('Ive copied my key and stored it in a safe location and want this to count as my backup.')}}</paper-checkbox></template><template is="dom-if" if="{{showEnterbutton}}"><div id="enterButton" class="button" on-click="_enter">{{localize('enter swarm.city')}}</div></template></template></dom-if></div></div><dom-if if="{{toggleUnlock}}"><template><display-unlock blue="" toggle-unlock="{{toggleUnlock}}" private-key="{{privateKey}}" qr-code-private-key="{{qrCodePrivateKey}}" qr-code-public-key="{{qrCodePublicKey}}"></display-unlock></template></dom-if></template><script>class MyKeys extends(new ReduxMixin(Polymer.mixinBehaviors([Polymer.AppLocalizeBehavior],Polymer.Element))){static get is(){return"page-my-keys"}static get properties(){return{language:{type:String,statePath:"language"},path:{type:String,observer:"_path"},iphone:{type:String,statePath:"iphone"},routeExit:{type:Array,observer:"_loadExitAnimations"},routeEntry:{type:Array,observer:"_loadEntryAnimations"},pageID:{type:String,value:"my-keys"},privateKey:{type:String,observer:"_showPrivateKey"},publicKey:{type:String},showPublicQR:{type:Boolean,value:!1},showPrivateQR:{type:Boolean,value:!1},showPrivateKey:{type:Boolean,value:!1},showCheckbox:{type:Boolean,value:!1},showEnterbutton:{type:Boolean,value:!1},toggleUnlock:{type:Boolean,value:!1,observer:"_blur"}}}connectedCallback(){super.connectedCallback();this.loadResources(this.resolveUrl("../text-translations.json"));let storage=JSON.parse(localStorage.getItem("SwarmCity"));this.publicKey=JSON.stringify(storage.keyStore.address).replace(/['"]+/g,"");this._loadAnimations()}_loadAnimations(){this.anim={moveUp:{arr:[{transform:"translateY(20px)"},{transform:"translateY(0px)"}],obj:{fill:"both",duration:250,direction:"normal",easing:"cubic-bezier(0.42, 0, 0.177, 0.751)"}}}}_showCheckbox(){return navigator.userAgent.match(/ipad|ipod|iphone/i)&&"make-backup-profile"!=this.routeEntry[0]}_copyPublicKey(){this._copyToClipboard(this.publicKey);let copied=this.shadowRoot.querySelector("#copied");copied.classList.add("showcopied");copied.animate(this.anim.moveUp.arr,this.anim.moveUp.obj);setTimeout(()=>{copied.classList.remove("showcopied")},500)}_copyPrivateKey(){this._copyToClipboard(this.privateKey);let copiedpriv=this.shadowRoot.querySelector("#copiedpriv");copiedpriv.classList.add("showcopied");copiedpriv.animate(this.anim.moveUp.arr,this.anim.moveUp.obj);setTimeout(()=>{copiedpriv.classList.remove("showcopied")},500)}_copyToClipboard(str){let textArea=document.createElement("textarea");textArea.value=str;document.body.appendChild(textArea);if(navigator.userAgent.match(/ipad|ipod|iphone/i)){let editable=textArea.contentEditable,readOnly=textArea.readOnly;textArea.contentEditable=!0;textArea.readOnly=!0;let range=document.createRange();range.selectNodeContents(textArea);let selection=window.getSelection();selection.removeAllRanges();selection.addRange(range);textArea.setSelectionRange(0,999999);textArea.contentEditable=editable;textArea.readOnly=readOnly}else{textArea.select()}document.execCommand("copy");document.body.removeChild(textArea)}_close(){window.history.back()}_toggleUnlock(){this.toggleUnlock=!this.toggleUnlock}_path(){if(null!=this.path){this.set("route.path",this.path)}this.path=null}_blur(){if(this.toggleUnlock){this.$.container.classList.add("blur")}else{this.$.container.classList.remove("blur")}}_showPublicQR(){this.showPublicQR=!this.showPublicQR}_showPrivateQR(){this.showPrivateQR=!this.showPrivateQR}_showPrivateKey(){if(this.privateKey){this._showCheckbox();this.showPrivateKey=!this.showPrivateKey}}_enterbuttonVisible(){this.async(()=>{if(this.$$("#enterButton")){this.$$("#enterButton").scrollIntoView()}});if(this.$$("#checkbox")&&this.$$("#checkbox").checked&&"make-backup-profile"!=this.routeEntry[0]&&navigator.userAgent.match(/ipad|ipod|iphone/i)){this.showEnterbutton=!0}else{this.showEnterbutton=!1}}_enter(){if(sessionStorage.getItem("origin")){this.path=sessionStorage.getItem("origin");sessionStorage.removeItem("origin")}else{this.set("route.path","hashtag-list")}}_loadExitAnimations(){if(this.routeExit[0]!=this.routeExit[1]){if(this.routeExit[0]==this.pageID){if("make-backup"==this.routeExit[1]){this.$.keycontainer.animate([{transform:"translateX(0px)"},{transform:"translateX(100vw)"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.privkeycontainer.animate([{transform:"translateX(0px)"},{transform:"translateX(100vw)"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.divider.animate([{transform:"translateX(0px)"},{transform:"translateX(100vw)"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0})}}}}_loadEntryAnimations(){this.showEnterbutton=!1;this._showCheckbox();if(this.showPrivateKey){this.privateKey=null;this.showPrivateKey=!1}if(this.routeExit[0]!=this.routeExit[1]){if(this.routeExit[1]==this.pageID){if("make-backup"==this.routeExit[0]){this.$.keycontainer.animate([{transform:"translateX(100vw)"},{transform:"translateX(0px)"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.privkeycontainer.animate([{transform:"translateX(100vw)"},{transform:"translateX(0px)"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.divider.animate([{transform:"translateX(100vw)"},{transform:"translateX(0px)"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0})}}}}}window.customElements.define(MyKeys.is,MyKeys);</script></dom-module></body></html>