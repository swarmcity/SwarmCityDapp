<html><head><link rel="import" href="../../bower_components/polymer/polymer-element.html"><link rel="import" href="../../bower_components/iron-media-query/iron-media-query.html"><link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html"><link rel="import" href="../../bower_components/app-route/app-location.html"><link rel="import" href="../../bower_components/app-localize-behavior/app-localize-behavior.html"><link rel="import" href="../redux-state.html"><link rel="import" href="../shared-styles.html"><link rel="import" href="../displays/display-transaction-status.html"><link rel="import" href="../displays/display-transaction-history.html"><link rel="import" href="../displays/display-unlock.html"></head><body><dom-module id="page-my-wallet"><template><style include="shared-styles">:host{height:100%;width:100vw;max-width:100%;display:block;}.container{@apply --layout-vertical;@apply --layout-start-justified;@apply --layout-center;background-image:var(--sc-bg);width:100%;min-height:100vh;max-width:100%;box-sizing:border-box;padding:0 10vw;overflow:auto;}.container[wide-layout]{padding:0 10vw;}.top{@apply --layout-vertical;@apply --layout-start;@apply --layout-end-justified;box-sizing:border-box;padding:100px 0 0 0;width:100%;}.container[wide-layout] .top{@apply --layout-start;text-align:left;}.close{@apply --xmark-grey3-small;@apply --close;}.close:active{@apply --button-active;}.divider{@apply --general-divider;}.container[wide-layout] .yellowbox{@apply --layout-horizontal;@apply --layout-start-justified;@apply --layout-end;text-align:center;}.swt{@apply --layout-start;@apply --layout-start-justified;@apply --main-title1;color:var(--sc-yellow);}.fiat{@apply --layout-horizontal;@apply --layout-center-justified;@apply --body-default;color:var(--sc-grey3);margin:0 0 30px 0;}.eth{@apply --body-detail;margin:2vh 0 3vh 0;color:var(--sc-grey3b);}display-transaction-status{@apply --layout-vertical;@apply --layout-center-justified;box-sizing:border-box;padding:6vh 0;width:100%;height:100%;}display-transaction-history{@apply --layout-vertical;@apply --layout-center-justified;box-sizing:border-box;width:100%;height:100%;}.linkbox{margin-top:30px;width:100%;text-align:left;}.link{@apply --small-bold;border-bottom:2px dotted var(--sc-grey3);color:var(--sc-grey3);}.blur{@apply --unlock-blur;}@media only screen and (-webkit-min-device-pixel-ratio: 1.5),
            only screen and (min--moz-device-pixel-ratio: 1.5),
            only screen and (min-resolution: 240dpi){.close{@apply --retina;}}</style><app-location route="{{route}}"></app-location><iron-media-query query="(min-width: 600px)" query-matches="{{wide}}"></iron-media-query><div class="container" id="container" wide-layout$="{{wide}}"><div class="top"><div tabindex="0" id="closebtn" class="close" on-tap="_close" on-keypress="_close"></div><div id="swtbalance" class="swt">{{balance.swt.balanceSwt}} SWT</div><div id="fiatbalance" class="fiat">â‰ˆ {{balance.swt.balanceUsd}} USD</div></div><div id="divider1" class="divider"></div><display-transaction-status id="txstatus" path="{{path}}" shortcode="{{shortcode}}" send="{{send}}" start="{{start}}" route-entry="{{routeEntry}}"></display-transaction-status><div id="divider2" class="divider"></div><div class="linkbox"><span class="link" on-click="_toEtherscan">{{localize('show address on etherscan')}}</span></div><display-transaction-history id="txhistory"></display-transaction-history></div><dom-if if="{{toggleUnlock}}"><template><display-unlock blue="" toggle-unlock="{{toggleUnlock}}" toggle-private-key="{{togglePrivateKey}}" private-key="{{privateKey}}" qr-code-private-key="{{qrCodePrivateKey}}" qr-code-public-key="{{qrCodePublicKey}}"></display-unlock></template></dom-if></template><script>class MyWallet extends(new ReduxMixin(Polymer.mixinBehaviors([Polymer.AppLocalizeBehavior],Polymer.Element))){static get is(){return"page-my-wallet"}static get properties(){return{language:{type:String,statePath:"language"},fx:{type:Number,statePath:"fx"},balance:{type:Object,statePath:"balance"},path:{type:String,observer:"_path"},routeExit:{type:Array,observer:"_loadExitAnimations"},routeEntry:{type:Array,observer:"_loadEntryAnimations"},pageID:{type:String,value:"my-wallet"},publicKey:{type:String,statePath:"publicKey"},toggleUnlock:{type:Boolean,value:!1,observer:"_blur"},privateKey:{type:String,observer:"_privateKeyObserver"},shortcode:{type:Boolean,value:!1},send:{type:Boolean,value:!1},start:{type:Boolean,value:!0}}}connectedCallback(){super.connectedCallback();this.loadResources(this.resolveUrl("../text-translations.json"));let storage=JSON.parse(localStorage.getItem("SwarmCity"));this.publicKey=storage.keyStore.address}_close(event){if(13===event.keyCode||"tap"==event.type){this.shortcode=!1;this.send=!1;if(sessionStorage.getItem("origin")){this.path=sessionStorage.getItem("origin");sessionStorage.removeItem("origin")}else{this.set("route.path","hashtag-list")}}}_path(){if(null!=this.path){this.set("route.path",this.path)}this.path=null}_blur(){if(this.toggleUnlock){this.$.container.classList.add("blur")}else{this.$.container.classList.remove("blur")}}_privateKeyObserver(){this.togglePrivateKey=!this.togglePrivateKey}_toEtherscan(){window.open("https://kovan.etherscan.io/address/"+this.publicKey,"_blank")}_loadExitAnimations(){if(this.routeExit[0]!=this.routeExit[1]){if(this.routeExit[0]==this.pageID){if("hashtag-list"==this.routeExit[1]){if(this.wide){this.$.swtbalance.animate([{transform:"translate(0px,0px) scale(1, 1)"},{transform:"translate(36px,-35px) scale(0.62,0.62)"}],{fill:"backwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.closebtn.animate([{opacity:"1"},{opacity:"0"}],{fill:"backwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.fiatbalance.animate([{opacity:"1"},{opacity:"0"}],{fill:"backwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.divider1.animate([{opacity:"1"},{opacity:"0"}],{fill:"backwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.txstatus.animate([{opacity:"1"},{opacity:"0"}],{fill:"backwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.txhistory.animate([{opacity:"1"},{opacity:"0"}],{fill:"backwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});if(this.showDivider){this.$$("#divider2").animate([{opacity:"1"},{opacity:"0"}],{fill:"backwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0})}}else{this.$.swtbalance.animate([{transform:"translate(0px,0px) scale(1, 1)"},{transform:"translate(18px,-45px) scale(0.62,0.62)"}],{fill:"backwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.closebtn.animate([{opacity:"1"},{opacity:"0"}],{fill:"backwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.fiatbalance.animate([{opacity:"1"},{opacity:"0"}],{fill:"backwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.divider1.animate([{opacity:"1"},{opacity:"0"}],{fill:"backwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.txstatus.animate([{opacity:"1"},{opacity:"0"}],{fill:"backwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.txhistory.animate([{opacity:"1"},{opacity:"0"}],{fill:"backwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});if(this.showDivider){this.$$("#divider2").animate([{opacity:"1"},{opacity:"0"}],{fill:"backwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0})}}}if("hashtag"==this.routeExit[1]){if(this.wide){this.$.swtbalance.animate([{transform:"translate(0px,0px) scale(1, 1)"},{transform:"translate(36px,-35px) scale(0.62,0.62)"}],{fill:"backwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.closebtn.animate([{opacity:"1"},{opacity:"0"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.fiatbalance.animate([{opacity:"1"},{opacity:"0"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.divider1.animate([{opacity:"1"},{opacity:"0"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.txstatus.animate([{opacity:"1"},{opacity:"0"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.txhistory.animate([{opacity:"1"},{opacity:"0"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});if(this.showDivider){this.$$("#divider2").animate([{opacity:"1"},{opacity:"0"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0})}}else{this.$.swtbalance.animate([{transform:"translate(0px,0px) scale(1, 1)"},{transform:"translate(18px,-45px) scale(0.62,0.62)"}],{fill:"backwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.closebtn.animate([{opacity:"1"},{opacity:"0"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.fiatbalance.animate([{opacity:"1"},{opacity:"0"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.divider1.animate([{opacity:"1"},{opacity:"0"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.txstatus.animate([{opacity:"1"},{opacity:"0"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.txhistory.animate([{opacity:"1"},{opacity:"0"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});if(this.showDivider){this.$$("#divider2").animate([{opacity:"1"},{opacity:"0"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0})}}}}}}_loadEntryAnimations(){if(this.routeExit[0]!=this.routeExit[1]){if(this.routeExit[1]==this.pageID){if("hashtag-list"==this.routeExit[0]){this.$.closebtn.animate([{opacity:"0"},{opacity:"1"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.fiatbalance.animate([{opacity:"0"},{opacity:"1"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.divider1.animate([{opacity:"0"},{opacity:"1"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.txstatus.animate([{opacity:"0"},{opacity:"1"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.txhistory.animate([{opacity:"0"},{opacity:"1"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});if(this.showDivider){this.$$("#divider2").animate([{opacity:"0"},{opacity:"1"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0})}}if("hashtag"==this.routeExit[0]){this.$.closebtn.animate([{opacity:"0"},{opacity:"1"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.fiatbalance.animate([{opacity:"0"},{opacity:"1"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.divider1.animate([{opacity:"0"},{opacity:"1"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.txstatus.animate([{opacity:"0"},{opacity:"1"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.txhistory.animate([{opacity:"0"},{opacity:"1"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});if(this.showDivider){this.$$("#divider2").animate([{opacity:"0"},{opacity:"1"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0})}}}}}}window.customElements.define(MyWallet.is,MyWallet);</script></dom-module></body></html>