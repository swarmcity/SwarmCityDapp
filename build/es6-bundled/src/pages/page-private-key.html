<html><head></head><body><div hidden="" by-polymer-bundler=""><dom-module id="display-restore-private-key" assetpath="../displays/"><template><style include="shared-styles">:host{display:block;width:100%;}.middle{width:100%;@apply --layout-flex;@apply --layout-vertical;@apply --layout-center-center;box-sizing:border-box;padding-top:5vh;}.container[wide-layout] .middle{@apply --layout-vertical;@apply --layout-start-justified;@apply --layout-start;}.bottom{@apply --layout-vertical;@apply --layout-start-justified;@apply --layout-center;background-color:rgba(0,0,0,0.05);width:100%;max-width:750px;box-sizing:border-box;padding:40px;@apply --small-light;color:var(--sc-grey4);text-align:center;}.container[wide-layout] .bottom{@apply --layout-vertical;@apply --layout-start-justified;@apply --layout-start;width:100%;text-align:left;padding:40px;}.btn{@apply --layout-vertical;@apply --layout-center-center;@apply --text-button-small;color:var(--sc-grey4);box-sizing:border-box;margin:20px 14px 14px 0;}.btn:active{@apply --button-active;}paper-input{width:100%;text-align:center;@apply --sc-paper-input;--paper-input-container-label:{@apply --body-default;};--paper-input-container-input:{@apply (--body-bold);};--paper-input-error:{@apply (--body-bold);};--paper-input-prefix:{@apply (--body-default);};--paper-input-suffix:{@apply (--body-default);};}.container[wide-layout] paper-input{text-align:left;max-width:400px;}.container .errorcontainer{min-height:15vh;@apply --error-container;}.container[wide-layout] .errorcontainer{min-height:8vh;@apply --error-container-wide;}.error{@apply --error-msg;}.container[wide-layout] .error{@apply --error-msg-wide;}.error-key{@apply --error-msg;margin:10px 0 0 0;}.container[wide-layout] .error-key{@apply --error-msg-wide;margin:10px 0 0 0;}.messagebox{margin-top:2vh;height:4vh;width:100%;@apply --layout-horizontal;@apply --layout-center-justified;}.showfullkey{margin-top:2vh;@apply --small-bold;@apply --layout-center;color:var(--sc-blue);border-bottom:2px dotted var(--sc-blue);}.box{@apply --layout-vertical;@apply --layout--center;@apply --layout--start-justified;box-sizing:border-box;}.container[wide-layout] .box{box-sizing:border-box;@apply --layout-horizontal;@apply --layout--start;@apply --layout--start-justified;}.trianglecontainer{@apply --layout-horizontal;@apply --layout-center;@apply --layout-center-justified;margin:0px 10px 20px 10px;}.container[wide-layout] .trianglecontainer{@apply --layout-horizontal;@apply --layout-start-justified;@apply --layout-start;width:54px;}.triangle{@apply --alert-blue-normal;position:relative;}.textbox{@apply --body-bold;color:var(--sc-grey4);@apply --layout-vertical;@apply --layout-center-justified;text-align:center;margin:0px 0px 20px 0px;}.container[wide-layout] .textbox{text-align:left;}.iconbtn{@apply --icon-button-big;margin:5vh 0px 10px;}.iconbtn:active{@apply --button-active;}.disabled{@apply --icon-button-big;margin:0 0px 10px;opacity:0.2;}.enabled{@apply --icon-button-big;margin:0 0px 10px;opacity:1;}.enabled:active{@apply --button-active;}.agree{@apply --next-blue-normal;}.passset{@apply --body-bold;color:var(--sc-grey3);}</style><data-wallet id="wallet"></data-wallet><iron-media-query query="(min-width: 600px)" query-matches="{{wide}}"></iron-media-query><div class="container" wide-layout$="{{wide}}"><div class="middle"><paper-input autofocus="" tabindex="1" id="input" label="{{localize('Private key?')}}" type="txt" on-input="_checkKey" value="{{privateKey}}"></paper-input><div class="errorcontainer"><span id="privateKeyError" class="error-key">{{privateKeyError}}</span></div></div><template is="dom-if" if="{{showPasswordBox}}"><div class="bottom"><template is="dom-if" if="{{choosePassword}}"><div>{{localize('To restore an account with a private key please choose a password for it first')}}</div><div class="btn" on-click="_agreeToEnterPassword">choose password</div></template><template is="dom-if" if="{{passwordWarning}}"><div class="box"><div class="trianglecontainer"><div class="triangle"></div></div><div class="textbox"><div class="inner-top">{{localize('There is no password recovery available in Swarm City.')}}</div><div class="inner-bottom">{{localize('Choose your password with care.')}}</div></div></div><div class="iconbtn"><div class="agree" on-click="_agreeToChoosePassword"></div></div></template><template is="dom-if" if="{{passwordSubmit}}"><paper-input id="password" label="{{localize('password?')}}" type="password" on-input="_checkInput" on-keydown="_checkForEnter" value="{{password}}"></paper-input><paper-input id="repeat" label="{{localize('Confirm password')}}" type="password" on-input="_checkInput" on-keydown="_checkForEnter" value="{{confirmPassword}}"></paper-input><div class="errorcontainer"><span id="passwordError" class="error">{{passwordError}}</span></div><div id="agree" class="disabled"><div class="agree" on-click="_submit"></div></div></template><template is="dom-if" if="{{passwordSet}}"><div class="passset">{{localize('the password is set')}}</div></template></div></template><template is="dom-if" if="{{passwordSet}}"><div class="iconbtn"><div class="agree" on-click=""></div></div></template></div></template><script>class DisplayRestorePrivateKey extends(new ReduxMixin(Polymer.mixinBehaviors([Polymer.AppLocalizeBehavior],Polymer.Element))){static get is(){return"display-restore-private-key"}static get properties(){return{language:{type:String,statePath:"language"},path:{type:String,reflectToAttribute:!0,notify:!0},routeEntry:{type:Array,observer:"_resetValues"},choosePassword:{type:Boolean,value:!0},passwordWarning:{type:Boolean,value:!1},passwordSubmit:{type:Boolean,value:!1},showPasswordBox:{type:Boolean,value:!1},passwordSet:{type:Boolean,value:!1},password:{type:String},confirmPassword:{type:String},passwordError:{type:String,value:""},privateKeyError:{type:String,value:""},publicKey:{type:String}}}static get actions(){return Object.assign({PUBLICKEY:function(publicKey){return{type:"PUBLICKEY",publicKey:publicKey}}})}connectedCallback(){super.connectedCallback();this.loadResources(this.resolveUrl("../text-translations.json"))}_agreeToEnterPassword(){this.choosePassword=!1;this.passwordWarning=!0}_agreeToChoosePassword(){this.passwordWarning=!1;this.passwordSubmit=!0}_resetValues(){if("private-key"==this.routeEntry[0]){this.password=null;this.confirmPassword=null;this.privateKey=null;this.privateKeyError="";this.choosePassword=!0;this.passwordWarning=!1;this.passwordSubmit=!1;this.passwordSet=!1}}_checkInput(){this.passwordError="";if(this.password&&this.confirmPassword&&1<=this.password.length&&1<=this.confirmPassword.length){if(this.confirmPassword.length<=this.password.length){for(let i=0;i<this.confirmPassword.length;i++){if(this.confirmPassword[i]!=this.password[i]){this.passwordError=this.localize("The passwords dont match.")}}}else{this.passwordError=this.localize("The passwords dont match.")}}if(this.password&&1<=this.password.length&&this.confirmPassword&&this.password==this.confirmPassword){this.$$("#agree").classList.remove("disabled");this.$$("#agree").classList.add("enabled")}else{this.$$("#agree").classList.add("disabled");this.$$("#agree").classList.remove("enabled")}}_checkKey(){this.privateKeyError="";if(this.privateKey&&1<=this.privateKey.length){if(64!=this.privateKey.length){this.showPasswordBox=!1;if(64>this.privateKey.length){this.privateKeyError=this.localize("The private key you entered is too short.")}else{this.privateKeyError=this.localize("The private key you entered is too long.")}}else{this.showPasswordBox=!0}}}_checkForEnter(e){if(13===e.keyCode){this._submit()}}_submit(){if(this.password&&1<=this.password.length&&this.confirmPassword&&this.password==this.confirmPassword){if(this.privateKey&&64===this.privateKey.length){this.$.wallet.restoreKey(this.privateKey,this.password).then(KeyStore=>{this.dispatch("PUBLICKEY",KeyStore.address);let storage=JSON.parse(localStorage.getItem("SwarmCity"));storage.keyStore=KeyStore.utcKeystore;localStorage.setItem("SwarmCity",JSON.stringify(storage));this.path="choose-avatar-and-username"})}else{this.privateKeyError=this.localize("Please enter a key.")}}}}window.customElements.define(DisplayRestorePrivateKey.is,DisplayRestorePrivateKey);</script></dom-module></div><dom-module id="page-private-key"><template><style include="shared-styles">:host{@apply --titlepage-open;}.container{background-image:var(--sc-bg);@apply --titlepage-open-container;}.container .top{@apply --titlepage-open-container-top;}.container .bottom{@apply --titlepage-open-container-bottom;}.container .title{@apply --titlepage-title;color:var(--sc-grey3b);}.container[wide-layout]{@apply --titlepage-open-wide-container;}.container[wide-layout] .top{@apply --titlepage-open-wide-container-top;}.container[wide-layout] .bottom{@apply --titlepage-open-wide-container-bottom;}.container[wide-layout] .title{@apply --titlepage-title-wide;}.close{@apply --xmark-grey3-small;@apply --close;}.close:active{@apply --button-active;}@media only screen and (-webkit-min-device-pixel-ratio: 1.5),
            only screen and (min--moz-device-pixel-ratio: 1.5),
            only screen and (min-resolution: 240dpi){.close,
                .agree{@apply --retina;}}</style><app-location route="{{route}}"></app-location><iron-media-query query="(min-width: 600px)" query-matches="{{wide}}"></iron-media-query><div class="container" wide-layout$="{{wide}}"><div class="top"><div class="close" on-click="_close"></div><div class="title" id="title">{{localize('Restore with a private key.')}}</div></div><display-restore-private-key path="{{path}}" route-entry="{{routeEntry}}" id="content"></display-restore-private-key></div></template><script>class MyPrivateKey extends(new ReduxMixin(Polymer.mixinBehaviors([Polymer.AppLocalizeBehavior],Polymer.Element))){static get is(){return"page-private-key"}static get properties(){return{language:{type:String,statePath:"language"},path:{type:String,observer:"_path"},routeExit:{type:Array,observer:"_loadExitAnimations"},routeEntry:{type:Array,observer:"_loadEntryAnimations"},pageID:{type:String,value:"private-key"},privateKey:{type:String}}}connectedCallback(){super.connectedCallback();this.loadResources(this.resolveUrl("../text-translations.json"))}_close(){this.path="stop-signup/"}_path(){if(null!=this.path){this.set("route.path",this.path)}this.path=null}_loadExitAnimations(){if(this.routeExit[0]!=this.routeExit[1]){if(this.routeExit[0]==this.pageID){if("restore-account"==this.routeExit[1]){this.$.title.animate([{transform:"translateX(0px)"},{transform:"translateX(100vw)"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.content.animate([{transform:"translateX(0px)"},{transform:"translateX(100vw)"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0})}}}}_loadEntryAnimations(){if(this.routeExit[0]!=this.routeExit[1]){if(this.routeExit[1]==this.pageID){if("restore-account"==this.routeExit[0]){this.$.title.animate([{transform:"translateX(100vw)"},{transform:"translateX(0px)"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0});this.$.content.animate([{transform:"translateX(100vw)"},{transform:"translateX(0px)"}],{fill:"forwards",duration:300,iterations:1,iterationStart:0,easing:"cubic-bezier(0.42,0,0.177,0.751)",delay:0,endDelay:0})}}}}}window.customElements.define(MyPrivateKey.is,MyPrivateKey);</script></dom-module></body></html>